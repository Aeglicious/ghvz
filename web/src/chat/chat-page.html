<dom-module id="ghvz-chat-page">
  <script>
    // Not sure why this HTMLImports.whenReady is really needed.
    // Something about polymer initialization order.
    // I think we're not supposed to need this.
    HTMLImports.whenReady(() => {
      Polymer({
        is: 'ghvz-chat-page',

        properties: {
          bridge: Object,
          database: Object,
          user: String,
          game: String,
          player: Object,
        },

        showFirstChat_: function() {
          return true; //this.game.chatRooms.length > 0;
        },
      });
    });
  </script>
  <style include="iron-flex iron-flex-alignment">
    :host {
      display: block;
    }
  </style>
  <template>
    <div class="flex layout horizontal">
      <ghvz-chat-room-list style="max-width: 15%" game="[[game]]"></ghvz-chat-room-list>
      <template is="dom-if" if="[[showFirstChat_()]]">
    <ghvz-chat-room
      bridge="[[bridge]]"
      game="[[game]]"
      current-player="[[player]]"
      chat-room="[[game.chatRooms[0]]]">
    </ghvz-chat-room>
    </template>

  </template>
</dom-module>